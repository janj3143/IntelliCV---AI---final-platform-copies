# ==============================================================================
# IntelliCV User Portal - Environment Configuration
# ==============================================================================
# This is an EXAMPLE file. Copy this to .env and fill in your actual values.
# .env is gitignored and will never be committed to version control.
#
# To use: cp .env.example .env
# Then edit .env with your actual API keys and secrets.
# ==============================================================================

# ------------------------------------------------------------------------------
# STRIPE PAYMENT CONFIGURATION
# ------------------------------------------------------------------------------
# Get your keys from: https://dashboard.stripe.com/apikeys
# IMPORTANT: Use TEST keys for development, LIVE keys only in production!

# Test Mode Keys (for development)
STRIPE_SECRET_KEY_TEST=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY_TEST=pk_test_your_publishable_key_here
STRIPE_WEBHOOK_SECRET_TEST=whsec_your_webhook_secret_here

# Live Mode Keys (for production only - DO NOT USE IN DEV!)
STRIPE_SECRET_KEY_LIVE=sk_live_your_secret_key_here
STRIPE_PUBLISHABLE_KEY_LIVE=pk_live_your_publishable_key_here
STRIPE_WEBHOOK_SECRET_LIVE=whsec_your_webhook_secret_here

# Stripe Price IDs (from Stripe Dashboard > Products)
# Create products and prices at: https://dashboard.stripe.com/products
STRIPE_PRICE_PROFESSIONAL_MONTHLY=price_your_id_here
STRIPE_PRICE_PROFESSIONAL_ANNUAL=price_your_id_here
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_your_id_here
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_your_id_here

# Stripe Mode (false = test mode, true = live mode)
STRIPE_USE_LIVE_MODE=false

# ------------------------------------------------------------------------------
# ADYEN PAYMENT CONFIGURATION (OPTIONAL)
# ------------------------------------------------------------------------------
# Enable Adyen by setting ADYEN_ENABLED=true
# Get your keys from: https://ca-test.adyen.com/ (test) or https://ca-live.adyen.com/ (live)

# Test Mode Keys (for development)
ADYEN_API_KEY_TEST=your_adyen_test_api_key_here
ADYEN_CLIENT_KEY_TEST=your_adyen_test_client_key_here
ADYEN_MERCHANT_ACCOUNT_TEST=your_merchant_account_name_here

# Live Mode Keys (for production only)
ADYEN_API_KEY_LIVE=your_adyen_live_api_key_here
ADYEN_CLIENT_KEY_LIVE=your_adyen_live_client_key_here
ADYEN_MERCHANT_ACCOUNT_LIVE=your_merchant_account_name_here

# Adyen Settings
ADYEN_ENABLED=false  # Set to true to enable Adyen
ADYEN_USE_LIVE_MODE=false  # Set to true for production

# ------------------------------------------------------------------------------
# SQUARE PAYMENT CONFIGURATION (OPTIONAL)
# ------------------------------------------------------------------------------
# Enable Square by setting SQUARE_ENABLED=true
# Get your keys from: https://developer.squareup.com/apps

# Sandbox Keys (for development)
SQUARE_ACCESS_TOKEN_TEST=your_square_sandbox_access_token_here
SQUARE_APPLICATION_ID_TEST=your_square_sandbox_application_id_here
SQUARE_LOCATION_ID_TEST=your_square_sandbox_location_id_here

# Production Keys (for live transactions)
SQUARE_ACCESS_TOKEN_LIVE=your_square_production_access_token_here
SQUARE_APPLICATION_ID_LIVE=your_square_production_application_id_here
SQUARE_LOCATION_ID_LIVE=your_square_production_location_id_here

# Square Settings
SQUARE_ENABLED=false  # Set to true to enable Square
SQUARE_USE_LIVE_MODE=false  # Set to true for production

# ------------------------------------------------------------------------------
# PAYMENT SYSTEM CONFIGURATION
# ------------------------------------------------------------------------------
# Primary payment processor: "stripe", "adyen", or "square"
PAYMENT_PRIMARY_PROCESSOR=stripe

# Enable automatic failover to backup processors
PAYMENT_ENABLE_FAILOVER=true

# Note: Even if Adyen/Square are disabled, Stripe will always be available as fallback

# ------------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ------------------------------------------------------------------------------
# PostgreSQL (Production - Docker)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=intellicv_user
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Database URL format (alternative to individual vars)
DATABASE_URL_POSTGRES=postgresql://postgres:your_password@localhost:5432/intellicv_user
DATABASE_URL_SQLITE=sqlite:///./intellicv_local.db
DATABASE_JSON_PATH=./data/database_backup.json

# ------------------------------------------------------------------------------
# REDIS CONFIGURATION (for caching and sessions)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=your_redis_password_here

# ------------------------------------------------------------------------------
# SECURITY CONFIGURATION
# ------------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_secret_key_here_generate_with_secrets_module
SESSION_TIMEOUT=60
MAX_LOGIN_ATTEMPTS=5

# ------------------------------------------------------------------------------
# AI API KEYS
# ------------------------------------------------------------------------------
# OpenAI (for ChatGPT/GPT-4)
OPENAI_API_KEY=sk-your_openai_key_here

# Anthropic (for Claude)
ANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here

# Google (for Gemini/PaLM)
GOOGLE_API_KEY=your_google_api_key_here

# Default AI model to use
DEFAULT_AI_MODEL=gpt-3.5-turbo

# ------------------------------------------------------------------------------
# EMAIL CONFIGURATION (for notifications)
# ------------------------------------------------------------------------------
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
FROM_EMAIL=noreply@intellicv.com
ADMIN_EMAIL=admin@intellicv.com

# ------------------------------------------------------------------------------
# APPLICATION SETTINGS
# ------------------------------------------------------------------------------
# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Application URL (for webhooks and redirects)
APP_URL=http://localhost:8501

# ------------------------------------------------------------------------------
# STRIPE SETUP INSTRUCTIONS
# ------------------------------------------------------------------------------
# 1. Create Stripe account at https://stripe.com
# 2. Enable TEST MODE toggle in dashboard (top right)
# 3. Go to Developers > API keys
# 4. Copy Publishable key (pk_test_...) and Secret key (sk_test_...)
# 5. Paste them into STRIPE_SECRET_KEY_TEST and STRIPE_PUBLISHABLE_KEY_TEST above
#
# 6. Create Products (https://dashboard.stripe.com/products):
#    - Click "+ Add product"
#    - Product 1: "IntelliCV Professional"
#      - Recurring price: $19.00 / month
#      - Copy Price ID (price_...) to STRIPE_PRICE_PROFESSIONAL_MONTHLY
#      - Add another price: $190.00 / year
#      - Copy Price ID to STRIPE_PRICE_PROFESSIONAL_ANNUAL
#    
#    - Product 2: "IntelliCV Enterprise"
#      - Recurring price: $49.00 / month
#      - Copy Price ID to STRIPE_PRICE_ENTERPRISE_MONTHLY
#      - Add another price: $490.00 / year
#      - Copy Price ID to STRIPE_PRICE_ENTERPRISE_ANNUAL
#
# 7. Set up webhook endpoint (https://dashboard.stripe.com/webhooks):
#    - Click "+ Add endpoint"
#    - Endpoint URL: http://your-domain.com/api/webhooks/stripe
#    - Select events: 
#      * checkout.session.completed
#      * customer.subscription.created
#      * customer.subscription.updated
#      * customer.subscription.deleted
#      * invoice.payment_succeeded
#      * invoice.payment_failed
#    - Copy Signing secret (whsec_...) to STRIPE_WEBHOOK_SECRET_TEST
#
# 8. Test with test cards (https://stripe.com/docs/testing):
#    - Success: 4242 4242 4242 4242
#    - Decline: 4000 0000 0000 0002
#    - Requires authentication: 4000 0025 0000 3155
#    - Use any future expiry date, any CVC
# ------------------------------------------------------------------------------

# ==============================================================================
# IMPORTANT SECURITY NOTES:
# ==============================================================================
# 1. NEVER commit .env file to Git (it's in .gitignore)
# 2. NEVER share your SECRET or LIVE API keys
# 3. Use TEST keys for all development work
# 4. Only use LIVE keys in production environment
# 5. Rotate keys immediately if they are exposed
# 6. Use environment-specific .env files (.env.dev, .env.prod)
# ==============================================================================
